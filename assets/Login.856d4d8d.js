import{_ as d}from"./_plugin-vue_export-helper.cdc0426e.js";import{r as i,o as a,c,n as _,t as b,d as p,b as r,w as f,a as t}from"./index.3b31ae52.js";const x={name:"LoginFrom",beforeRouteEnter(s,n,o){var e;if(!((e=localStorage.getItem("buethunt22"))==null?void 0:e.roll)){o();return}o({path:"/"})},data(){return{schema:{phone:"required|min:10|max:13"},login_in_submission:!1,login_show_alert:!1,login_alert_variant:"bg-blue-500",login_alert_msg:"Please wait! Untill your login in progress."}},methods:{async login(s){this.login_show_alert=!0,this.login_in_submission=!0,this.login_alert_variant="bg-blue-500",this.login_alert_msg="Please wait! Untill your login has been completed";let n=s.phone.length,o=s.phone.substring(n-10,n);try{await this.$store.dispatch("login",{phone:o,router:this.$router})}catch{this.login_in_submission=!1,this.login_alert_variant="bg-green-500",this.login_alert_msg="An Unexpected error occurred. Please try again later.";return}this.login_alert_variant="bg-green-500",this.login_alert_msg="Success! Your account has been logged in."}}},y={class:"mx-2 mt-10 md:w-1/2 lg:w-1/3 md:mx-auto poppins"},v=t("div",{class:"py-4 text-center space-y-2"},[t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"}," POTENTIAL BUETIAN HUNT "),t("h2",{class:"text-2xl font-bold text-gray-700"},"BATCH 22")],-1),w={class:"mb-3"},k=t("label",{class:"inline-block mb-2 dark:text-white",autocomplete:"off"},"Phone Number",-1),N=["disabled"];function E(s,n,o,l,e,g){const m=i("vee-field"),h=i("ErrorMessage"),u=i("vee-form");return a(),c("div",y,[v,e.login_show_alert?(a(),c("div",{key:0,class:_([e.login_alert_variant,"p-5 mb-4 font-bold text-center text-white"])},b(e.login_alert_msg),3)):p("",!0),r(u,{"validation-schema":e.schema,onSubmit:g.login},{default:f(()=>[t("div",w,[k,r(m,{type:"tel",name:"phone",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"e.g 01612345678"}),r(h,{class:"text-red-600",name:"phone"})]),t("button",{type:"submit",class:_(["btn btn-block",{loading:e.login_in_submission}]),disabled:e.login_in_submission}," Login ",10,N)]),_:1},8,["validation-schema","onSubmit"])])}const P=d(x,[["render",E]]);export{P as default};
